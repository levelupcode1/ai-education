# 파트 3 - Cursor AI에서 구독 모델과 인앱 결제 시스템 구축하기

<!-- 이 문서는 파트 3의 네 번째 강의 교재입니다. -->

## 학습 목표
- 인앱 결제와 구독 모델의 차이와 실제 구현 방법을 이해한다.
- Cursor AI를 활용해 인앱 결제/구독 기능 코드를 자동 생성하는 방법을 익힌다.
- 결제 시스템 도입 시 주의사항과 정책을 숙지한다.

## 1. 인앱 결제/구독 모델의 개념
- **인앱 결제**: 앱 내에서 디지털 상품(아이템, 콘텐츠 등)을 한 번 구매하는 방식
- **구독 모델**: 일정 기간마다 자동 결제되어 프리미엄 기능/콘텐츠를 제공하는 방식

## 2. 인앱 결제/구독 시스템 구현 절차
1. **플랫폼별 결제 시스템 이해**: Google Play Billing, Apple In-App Purchase 등
2. **Flutter 결제 패키지 추가**: pubspec.yaml에 in_app_purchase 패키지 추가
   ```yaml
   dependencies:
     in_app_purchase: ^3.0.0
   ```
3. **상품 등록 및 테스트 환경 구성**: 구글 플레이 콘솔/앱스토어 커넥트에서 상품 등록
4. **결제 코드 구현 및 테스트**

## 3. Cursor AI 실습: 결제/구독 코드 자동 생성
### 프롬프트 예시 1
```
Flutter 앱에서 in_app_purchase 패키지를 사용해 인앱 결제 버튼을 추가하는 코드를 만들어줘.
```
- Cursor AI가 결제 버튼, 상품 ID, 구매 처리 코드 자동 생성

### 프롬프트 예시 2
```
Flutter 앱에서 월 구독 결제 기능을 구현하는 코드를 만들어줘. 상품 ID는 'monthly_premium'으로 해줘.
```
- 구독 상품 결제 및 상태 관리 코드 자동 생성

## 4. 결제 시스템 도입 시 주의사항
- 결제 정책(환불, 개인정보, 미성년자 보호 등) 준수
- 테스트 환경에서 충분히 검증 후 실제 배포
- 결제 실패/취소/복원 처리 로직 구현

## 5. 실습: 인앱 결제/구독 기능 추가하기
- Flutter 프로젝트에 in_app_purchase 패키지 설치
- Cursor AI로 결제/구독 코드 자동 생성 실습
- 실제 결제 흐름 테스트 및 예외 상황 처리

---
<!-- 강의 교재 끝 --> 